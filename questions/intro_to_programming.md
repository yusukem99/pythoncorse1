# Arithmetic and Variables - 算術演算子と変数

## Set up the notebook

これから練習問題を解いていきます。まず一番上のコードセルを実行します。

これは問題の答え合わせのために必要な処理で、以降のレッスンでも、はじめに実行してください。

コードセルの内側をクリックすると、そのコードセルが選択された状態になります。

コードセルを選択すると左側に三角形が現れるのでクリックしてみましょう。そのコードセルの中身が実行されます。

## 問1
次のコードセルを編集しないで実行してください。

このコードセルは`Hello world!`とコードセルの下に出力します。

二行目にある`q1.check()`という関数があなたの解答の答え合わせをしてくれます。この行は変更しないように気をつけてください。

## 問2

次は、出力する文字を変更してみましょう。

`print("Your message here!")`の部分を変更します。

例

- print("Good morning!")
- print("I am learning how to code :D")

正しく出力することができたら、print("3+4") のように何か書いてみてください。

これは7を返すのでしょうか、それとも単に「3+4」という文字列として認識するのでしょうか？

表示する文字列が引用符（"）で囲まれていること、そして出力する文字の中に引用符を含んでいけないことに注意してください。

たとえば次のように書くとエラーが発生します。

```
print("She said "great job" and gave me a high-five!")
```

## 問3

Pythonでは先頭に`#`を付けるとコメントになります。`#`に続く文字はコードとして実行されません。

たとえば、Pythonは下のような`print`関数を無視して何も出力されません。

```python
#print(1+2)
```

#を削除すると、コードとして実行できるようになります。

練習として以下のコードセルから`#`を削除してみましょう。

`q3.hint()`と`q3.solution()`のコメントと解除してください。

`# Uncomment to view hint`の前の`#`は削除しないでください。

## 問4¶

下のコードセルでいくつかの変数を宣言しています。実行して一年間の秒数を計算してみましょう。

世界で一分間に生まれる子供の数は`250`人程度といわれています。

変数`births_per_min`を宣言して、`250`を代入してください。

さらに`births_per_min`を使って変数`births_per_day`に一日に生まれる子供の数を代入してください。


## 🌶️ 問5

🌶️マークのついた問題は少し難易度が高くなっています。

[タイタニック号のコンペティション](https://www.kaggle.com/c/titanic)はKaggleで最も有名なコンペティションです。

このコンペティションでは、乗客の年齢、性別、家族の人数、チケット番号などの情報に基づいて、その乗客が生き残ったかどうかを予測する`機械学習モデル`を作ってその精度を競います。

次のコードセルを実行すると、データを読み込んでいくつか表示することができます。

ここではコードの詳細について気にしないでください。`titanic_data`という変数に乗客のデータが読み込まれています。

さらに次のセルを実行してください。以下のような変数を宣言しています。

- total = 乗客の合計人数
- survived = 生き残った乗客の人数
- minors = 18歳以下の乗客の人数

最後のコードセルで穴埋めをしていきましょう。(`____`)を削除して以下の変数に値を代入してください。

- survived_fraction = 全体のうち生き残った乗客の割合
- minors_fraction = 全体のうち18歳以下の乗客の割合

# Functions - 関数

## 問1
[House Prices - Advanced Regression Techniques](https://www.kaggle.com/c/house-prices-advanced-regression-techniques/overview)

このコンペティションでは、寝室や浴室の数などの情報を使って、住宅の価格を予測しています。

ここでは関数を使って簡易的な住宅の価格の予測モデルを作成してみましょう。

次のコードセルで、以下の条件で関数`get_expected_cost()`を作成してください。

2つの引数を設定してください

- beds - 寝室の数
- baths - 浴室の数

寝室が0室、浴室が0個のベースの住宅が80,000ドルとします。

さらに、寝室が一つ増えるにつき3万ドル、浴室が一つ増えるにつき1万ドル値段が上がるものとします。

例えば、

1つの寝室と1つの浴室を持つ住宅の期待価格 = 120,000ドル

2つの寝室と1つの浴室を持つ住宅の期待価格 = 150,000ドル

## 問2

あなたは住宅を買おうと考えています。
まずは寝室や浴室の数によってどのくらいの費用がかかるかを把握することにしました。

次の4つの候補があります

- 候補1：2つの寝室と3つの浴室を持つ住宅
- 候補2：3つの寝室と2つの浴室を持つ住宅
- 候補3：3つの寝室と3つの浴室を持つ住宅
- 候補4：3つの寝室と4つの浴室を持つ住宅

問1で定義した`get_expected_cost()`関数を使って、各候補の予想価格を`option_1`、`option_2`、`option_3`、`option_4`に設定してください。

## 問3
あなたはホームデコレーターです。学校で習ったPythonを使って作業を効率化したいと考えています。

これから部屋を塗装するための費用を計算するためのツールを作成します。

以下の引数を受け取る`get_cost()`関数を定義してください。

- `sqft_walls` = 塗装する壁の総平方フィート数
- `sqft_ceiling` = 塗装する天井の平方フィート数

## 問4¶

問3で定義した`get_cost()`関数を使って、次の条件で部屋を塗装するのに必要なコストを計算してください。

- 壁の面積が432平方フィート
- 天井の面積が144平方フィート

1ガロンの塗料で400平方フィートを塗装することができ、1ガロンあたり15ドルとします。

問3と同様に、小数以下の単位の塗料を購入できると仮定します。答えを四捨五入しないでください。

## 🌶️ 問5¶
今後は、小数以下の単位で塗料を買うことができなくなったとします。（たとえば、4.3ガロン必要な場合、5ガロンの塗料を購入する必要がある）

正確なコストを計算する新しい関数`get_actual_cost`を作成してください。

`math.ceil()`関数を使うと数値を入力として受け取り、最も近い整数に切り上げてくれます。実際に下のコードセルを実行してみてください。

`test_value`の値を変更して、math.ceil()が期待した通りの値を返すことを確認してください。

# Data Types - 型


## 問1
小数（`float`）を`int`関数を使って整数に変換する方法を学びました。下のコードセルを実行して、自分で試してみてください。

```
# Define a float
y = 1.
print(y)
print(type(y))

# Convert float to integer with the int function
z = int(y)
print(z)
print(type(z))
```

この場合、使っているfloatには小数点以下の数値がありません。

しかし、小数部分を持つfloatを整数に変換しようとするとどうなるでしょうか？また、、`int`関数の結果は正の数と負の数でどのように変わるでしょうか？

次のコードセルを使用して調査し、これらの問題に答えてください。コードの行を追加したり削除したりして自由に検証してください。

```
# Uncomment and run this code to get started!
#print(int(1.2321))
#print(int(1.747))
#print(int(-3.94535))
#print(int(-2.19774))
```

答えが出たら、下のコードセルを実行して解答を確認してください。

解答を表示すると、問題に答えたことになります。

## 問2
チュートリアルで、`True`または`False`の値を取る真偽型(`bool`)について学びました。

この質問では、真偽型を他のデータ型と乗算した場合の結果を確認することが目的です。具体的には、

整数または小数に`True`を乗算した場合、何が起こるでしょうか？

`False`を乗算した場合はどうなりますか？数値が正または負の場合、答えはどう変わりますか？

文字列に`True`をかけるどうなりますか？`False`をかけるとどうなりますか？

次のコードセルを使用して調査してください。

```
# Uncomment and run this code to get started!
print(3 * True)
print(-3.1 * True)
print(type("abc" * False))
print(len("abc" * False))
```

答えが出たら、下のコードセルを実行して解答を確認してください。解答を表示すると、問題に答えたことになります。

## 問3
この問題では、前回のレッスンの内容で扱った家の価値を推定する関数を書きます。

`get_expected_cost`という関数を作成し、次の3つの変数を入力として受け取ります。

- beds = ベッドルームの数（float）
- baths = バスルームの数（float）
- has_basement = 家に地下室があるかどうか（bool）

これらの特徴を持つ家の予想コストを返します。

寝室が0室、浴室が0個のベースの住宅が80,000ドルとします。

さらに、寝室が一つ増えるにつき3万ドル、浴室が一つ増えるにつき1万ドル、地下室があると+4万ドルとします。

例えば、

1つの寝室と1つの浴室をもち、地下室がない住宅の期待価格 = 80,000ドル + 1 * 3,0000ドル + 1 * 4,0000ドル = 120,000ドル
これは、`get_expected_cost(1, 1, False)`で計算されます。

2つの寝室と1つの浴室を持ち、地下室がある住宅の期待価格 = 80,000ドル + 2 * 3,0000ドル + 1 * 4,0000ドル = 190,000ドル
これは、`get_expected_cost(2, 1, True)`で計算されます。


## 問4

真偽型の演算の研究を続けます。この問題では、真偽型を加算すると何が起こるかを説明してください。

次のコードセルを使用して、調査してください。コードの行を追加したり削除したりして自由に検証してください。

```
print(False + False)
print(True + False)
print(False + True)
print(True + True)
print(False + True + True + True)
```

答えが出たら、下のコードセルを実行して解答を確認してください。解答を表示すると、問題に答えたことになります。

## 🌶️ 問5

あなたは指輪を販売するオンラインショップを経営しています。純金と金メッキの2種類の指輪を販売しています。さらに、指輪の表面に文字を刻印するオプションを提供しています。

金メッキの指輪の基本価格は50ドルで、刻印1文字あたり7ドルです。

純金の指輪の基本価格は100ドルで、刻印1文字あたり10ドルです。

空白と句読点は刻印文字としてカウントされます。

ここで`cost_of_project()`という関数を作成し、2つの引数を受け取ります。

- engraving - 刻印のテキストを表すPython文字列
- solid_gold - 純金の指輪かどうかを示す真偽型

この関数は、指定された刻印と指輪の種類に応じた指輪の価格を返します。この問題はかなり難しいので頑張ってください。

次のコードセルは、`Charlie+Denver`と刻印された純金の指輪のコストを計算するコードです。

```
project_one = cost_of_project("Charlie+Denver", True)
print(project_one)
```

次のコードセルは、`08/10/2000`と刻印された金メッキの指輪のコストを計算するコードです。

```
project_two = cost_of_project("08/10/2000", False)
print(project_two)
```

# Conditions and Conditional Statements - 条件とIF文
## 問1

あなたは学校の入試課で働いています。

学校では志願者の内申点を保有していますが、0-100点の点数で評価されているものと、A-Fの5段階評価のものが混在しています。

そこで、あなたは一貫性を持たせるために、すべての点数をA-Fの5段階評価で表現することにしました。

変換ルールは次のとおりです。

- A - 90-100点
- B - 80-89点
- C - 70-79点
- D - 60-69点
- F - 59点以下

0-100の整数で、数値の成績に対応する引数`score`を受け取り、それに対応する文字列を返す`get_grade()`という関数を作成してください。

例えば、

85点はB評価に対応します。つまり、`get_grade(85)`は"B"を返す必要があります。
49点はF評価に対応します。つまり、`get_grade(49)`は"F"を返す必要があります。

評価が関数によって返されるときは、必ず引用符で囲んでください。 (例えば、"A"を返したい場合は、return "A"と書き、return Aと書かないでください。)

## 問２

前回のレッスンで、刻印付きの指輪を販売するオンラインショップの価格を返す`cost_of_project()`という関数を作成しました。

この関数は条件文を使用していませんでした。この問題では、条件文を使用して関数を書き直します。

値段表は次のとおりです。

金メッキの指輪の基本価格は50ドルで、刻印1文字あたり7ドルです。

純金の指輪の基本価格は100ドルで、刻印1文字あたり10ドルです。

空白と句読点は刻印文字としてカウントされます。

この関数は2つの引数を受け取ります。

- engraving - 刻印のテキストを表すPython文字列
- solid_gold - 純金の指輪かどうかを示す真偽型

この関数は、部分的に完成しています。残りの部分を埋めて、関数を完成させてください。

## 問３

あなたは水道局のプログラマーです。水道料金を計算する関数`get_water_bill()`を作成するように指示されました。

この関数は、次の引数を受け取ります。

- num_gallons - 月間の水道使用量（ガロン）

水道料金は、水道使用量に応じて異なります。水道使用量に応じて、次のように4つの料金区分に分けられます。

<table style="width: 100%;">
    <tbody>
        <tr><th><b>Tier</b></th><th><b>利用量（ガロン）</b></th><th><b>1000ガロンあたりの料金</b></th></tr>
        <tr>
            <td>Tier 1</td>
            <td>0 - 8,000</td>
            <td>$5</td>
        </tr>
        <tr>
            <td>Tier 2</td>
            <td>8,001 - 22,000</td>
            <td>$6</td>
        </tr>
        <tr>
            <td>Tier 3</td>
            <td>22,001 - 30,000</td>
            <td>$7</td>
        </tr>
        <tr>
            <td>Tier 4</td>
            <td>30,001+</td>
            <td>$10</td>
        </tr>
    </tbody>
</table>

## 問４

あなたはデータ通信サービスを提供する会社で働いています。

あなたの会社の提供するサービスでは、月額100ドルで15ギガ/月までは定額で100ドルで利用できますが、それ以上は1ギガにつき100ドル追加で課金されます。

次のコードセルに、次の引数を受け取り、顧客の合計電話料金を返す`get_phone_bill()`という関数を書いてください。

- gb - 月間のデータ使用量（ギガ）

例えば、

10ギガのデータを使用した顧客は、15ギガまでの定額料金のみを支払うため、`get_phone_bill(10)`は100を返す必要があります。

15.1ギガ（または15ギガ+100メガバイト）のデータを使用した顧客は、.1ギガ超過したため、100ドル（プラン料金）に加えて、100メガバイトにつき10ドル（1ギガあたり100ドル）を支払う必要があります。つまり、`get_phone_bill(15.1)`は110を返す必要があります。

## 🌶️ 問５

メキシコでは、飽和脂肪酸や糖質、塩分、カロリーなどの高い栄養価の食品には、警告ラベルが貼られます。

例えば、下のクッキーのパッケージには、高い糖質の食品に貼られる警告ラベルが貼られています。

<center><img src="https://i.imgur.com/VXYKHnM.png" alt="drawing" width="500"/></center>

- EXCESO CALORÍAS - カロリーが多すぎる食品
- EXCESO AZÚCARES - 糖質が多すぎる食品

この問題では、`get_label()`という関数を作成します。この関数は、次の引数を受け取ります。

- food_type = "solid" または "liquid"
- serving_size = 一食あたりのサイズ(グラムまたはミリリットル)
- calories_per_serving = 一食あたりのカロリー
- saturated_fat_g = 一食あたりの飽和脂肪酸(グラム)
- trans_fat_g =一食あたりあたりのトランス脂肪酸(グラム)
- sodium_mg = 一食あたりの塩分（ミリグラム）
- sugars_g = 一食あたりの砂糖(グラム)

get_label()関数は、引数に各栄養成分が渡されると、それに応じた警告ラベルを出力します。

リンク先にある製品のパッケージを確認して、正しい栄養価を引数に設定し、`get_label()`関数を呼び出してください。

`excess_sugar()`や`excess_saturated_fat()`関数の説明はありませんが、与えられた栄養価に応じて`True`または`False`を返します。

これから学んでいく機械学習のコースでは、`scikit-learn`のような他の人が作成した関数を使っていきます。

プログラミングを学んでいく中で、その関数の詳細をすべて読む時間がないことはよくあります。他の人が作成した関数の使い方をおおむね理解して使いこなすことを練習していきましょう。

# Intro to Lists - リストの基礎

## 問１

あなたは五つの料理を提供するレストランを経営しています。

いま、変数`menu`に提供する料理のリストが代入されています。

メニューに以下のような変更を加えてください。

- `bean soup`を削除
- `roasted beet salad`を追加

変数`menu`を宣言している行は変更せず、`.remove()`と`.append()`を使ってメニューを変更してください。

## 問２

変数`num_customers`には、あなたのレストランの最近の1ヶ月間の来客数がリストとして代入されています。

以下の変数を定義してください。

- `avg_first_seven` - 最初の7日間の来客数の平均
- `avg_last_seven` - 最後の７日間の来客数の平均
- `max_month` - もっとも来客数が多かった日の人数
- `min_month` - もっとも来客数が少なかった日の人数

この問題は、直接数字を入力するのではなく、コードを書いて解いてください。例えば、リストの最小値を見つけるには、`min()`を使ってください。

## 問３

チュートリアルでは、文字列として情報を保持するのではなく、リストとして情報を保持する方が良い例を紹介しました。

```
flowers = "pink primrose,hard-leaved pocket orchid,canterbury bells,sweet pea,english marigold,tiger lily,moon orchid,bird of paradise,monkshood,globe thistle"
```

実は、`.split()`を使うと、この文字列をリストに簡単に変換することができます。`()`の中には、リストの各要素の区切りとなる文字を指定します。ここでは、カンマを指定しています。


`alphabet`と`address`を使って以下の変数を定義してください。

- `letters`

アルファベットの大文字のリストで、各要素は1つの文字です。例えば、最初の2つの要素は`"A"`と`"B"`で、最後の2つの要素は`"Y"`と`"Z"`です

- `formated_adress`

カンマで区切られた`address`をlistに変換したものです。

## 問４

次のコース`Python`では、(`list comprehensions`)という機能を学びます。これは、別のリストの値に基づいてリストを作成することができます。ここでは、その機能にさっと目を通しておきましょう。

次のリストを考えます。

```
test_ratings = [1, 2, 3, 4, 5]
```

次のように、リスト内包表記を使うと、`test_ratings`の各要素が4以上かどうかを判定し、その結果を真偽型のリストに変換することができます。

```
test_liked = [i>=4 for i in test_ratings]
print(test_liked)
```

この問題では以下のような関数`percentage_liked()`を定義します。

この関数は、引数としてある映画のレビューのリスト(`ratings`)を受け取り、その中で4以上の評価がつけられたものの割合(`percentage_liked`)を返します。

関数の一部はすでに書かれています。残りを埋めてください。

## 問５

ウェブサイトの分析をする会社に勤めています。

このサイトのユーザー数を`num_users`というリストに保存しています。このリストの最初の要素は、初年度のユーザー数、2番目の要素は2年目のユーザー数、というようになっています。

ユーザー数がどのように変化しているかを調べるために、指定した年数前のユーザー数と比較して、ユーザー数の増加割合を返す関数`percentage_growth()`を作ることになりました。

関数は`yrs_ago`で指定された年数前のユーザー数と比較して、増加した割合を百分率で返します。

あなたの同僚が関数を作ってくれましたが、うまく動作しません。何が間違っているのかを見つけて、修正してください。

例

ユーザ数のリスト`num_users`が以下のように与えられたとします。

```
num_users = [920344, 1043553, 1204334, 1458996, 1503323, 1593432, 1623463, 1843064, 1930992, 2001078]
```

例えば、

`yrs_ago`が1の場合、関数は`0.036`を返します。これは、`2001078`と`1930992`の差を`1930992`で割ったものになります。

`yrs_ago`が2の場合、関数は`0.072`を返します。これは、`2001078`と`1843064`の差を`1843064`で割ったものになります。

`yrs_ago`が7の場合、関数は`0.66`を返します。これは、`2001078`と`1204334`の差を`1204334`で割ったものになります。